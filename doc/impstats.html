<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<title>Periodic Statistics of Internal Counters (impstats)</title>
</head>
<body>
<a href="rsyslog_conf_modules.html">back</a>

<h1>Input Module to Generate Periodic Statistics of Internal Counters</h1>
<p><b>Module Name:&nbsp;&nbsp;&nbsp; impstats</b></p>
<p><b>Available since: </b>5.7.0+, 6.1.1+
<p><b>Author: </b>Rainer Gerhards &lt;rgerhards@adiscon.com&gt;</p>
<p><b>Description</b>:</p>
<p>This module provides periodic output of rsyslog internal counters.
Note that the whole statistics system is currently under development. So
availabilty and format of counters may change and is not yet stable (so be
prepared to change your trending scripts when you upgrade to a newer rsyslog version).
<p>The set of available counters will be output as a set of syslog messages. This
output is periodic, with the interval being configurable (default is 5 minutes).
Be sure that your configuration records the counter messages (default is syslog.info).
<p>Note that loading this module has impact on rsyslog performance. Depending on
settings, this impact may be severe (for high-load environments).
</p>
<p><b>Configuration Directives</b>:</p>
<ul>
<li>$PStatInterval &lt;Seconds&gt;<br>
Sets the interval, in <b>seconds</b> at which messages are generated. Please note that the
actual interval may be a bit longer. We do not try to be precise and so the interval is
actually a sleep period which is entered after generating all messages. So the actual 
interval is what is configured here plus the actual time required to generate messages.
In general, the difference should not really matter.
<li>$PStatFacility &lt;numerical facility&gt;<br>
The numerical syslog facility code to be used for generated messages. Default
is 5 (syslog).This is useful for filtering messages.</li>
<li>$PStatSeverity &lt;numerical severity&gt;<br>
The numerical syslog severity code to be used for generated messages. Default
is 6 (info).This is useful for filtering messages.</li>
</ul>
<b>Caveats/Known Bugs:</b>
<ul>
<li>This module MUST be loaded right at the top of rsyslog.conf, otherwise 
stats may not get turned on in all places.</li>
<li>experimental code</li>
</ul>
<p><b>Sample:</b></p>
<p>This activates the module and records messages to /var/log/rsyslog-stats in 10 minute intervals:<br>
</p>
<textarea rows="8" cols="60">$ModLoad impstats
$PStatInterval 600
$PStatSeverity 7

syslog.debug  /var/log/rsyslog-stats
</textarea>
<p>[<a href="rsyslog_conf.html">rsyslog.conf overview</a>]
[<a href="manual.html">manual index</a>] [<a href="http://www.rsyslog.com/">rsyslog site</a>]</p>
<p><font size="2">This documentation is part of the
<a href="http://www.rsyslog.com/">rsyslog</a>
project.<br>
Copyright &copy; 2010 by <a href="http://www.gerhards.net/rainer">Rainer
Gerhards</a> and
<a href="http://www.adiscon.com/">Adiscon</a>.
Released under the GNU GPL version 3 or higher.</font></p>
</body></html>
